<!DOCTYPE html>
<html lang="en">
<head>
    <title>MapLibre GL JS debug page</title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel='stylesheet' href='../../../dist/mapabc-gl.css'/>
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        html, body, #map {
            height: 100%;
        }
    </style>
</head>

<body>
<div id='map'></div>

<script src='../../../dist/mapabc-gl-dev.js'></script>
<script src='js/mapabc-config.js'></script>
<script src='js/echarts.min-4.9.0.js'></script>
<script src='js/echarts-gl-1.1.1.js'></script>
<script src='js/weibo.js'></script>

<script>

    weiboData = weiboData.map(function (serieData, idx) {
        var px = serieData[0] / 1000;
        var py = serieData[1] / 1000;
        var res = [
            [px, py]
        ];

        for (var i = 2; i < serieData.length; i += 2) {
            var dx = serieData[i] / 1000;
            var dy = serieData[i + 1] / 1000;
            var x = px + dx;
            var y = py + dy;
            res.push([x.toFixed(2), y.toFixed(2), 1]);

            px = x;
            py = y;
        }
        return res;
    });
    
    mapabcgl.accessToken = 'ec85d3648154874552835438ac6a02b2';
    var map = window.map = new mapabcgl.Map({
        container: 'map',
        center: [116.2569, 39.9232],
        zoom: 10,
        //style: 'mapabc79w.json',
        style: 'mapabc://styles/mapabc79w',
        hash: true,
        accessToken : 'ec85d3648154874552835438ac6a02b2' //map options
    });

    map.on('load', function () {
        console.log('mapabcgl loaded..')
    });

    map.addControl(new mapabcgl.ScaleControl({unit: 'metric'}));
    map.addControl(new mapabcgl.NavigationControl());
    map.addControl(new mapabcgl.NavControl({
        showZoom: true,
        showCompass: true
    }));

</script>
</body>
</html>
